locality A
locality B

name nA<i> : nonce @ A
name k : mackey (exists i. Name(nA<i>)) @ A, B

def alice<i> () @ A 
    requires corr(nA<i>) 
             /\ (/\_i [nA<i>] <= adv)
: Unit = 
    let nA = get(nA<i>) in 
    let m = pack<i>(nA) in 
    let t = mac(get(k), m) in 
    output concat(nA, t)
